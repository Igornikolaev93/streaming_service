import{d as C,u as y,r as u,c,l as x,h as L,a,o as r,p,b as t,n as w,j as n,t as i,F as b,_ as B}from"./index-CL-Xs5cY.js";const F={key:0,class:"movie__info"},M={class:"movie_info_description"},H={class:"movie__info__head"},E={class:"movie__info_name"},R={class:"movie__info_plot"},N={class:"movie__info_button"},S={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},T={key:0,d:"M16.5 3C19.5376 3 22 5.5 22 9C22 16 14.5 20 12 21.5C9.5 20 2 16 2 9C2 5.5 4.5 3 7.5 3C9.35997 3 11 4 12 5C13 4 14.64 3 16.5 3Z",fill:"#ff4081"},U={key:1,d:"M16.5 3C19.5376 3 22 5.5 22 9C22 16 14.5 20 12 21.5C9.5 20 2 16 2 9C2 5.5 4.5 3 7.5 3C9.35997 3 11 4 12 5C13 4 14.64 3 16.5 3ZM12.9339 18.6038C13.8155 18.0485 14.61 17.4955 15.3549 16.9029C18.3337 14.533 20 11.9435 20 9C20 6.64076 18.463 5 16.5 5C15.4241 5 14.2593 5.56911 13.4142 6.41421L12 7.82843L10.5858 6.41421C9.74068 5.56911 8.5759 5 7.5 5C5.55906 5 4 6.6565 4 9C4 11.9435 5.66627 14.533 8.64514 16.9029C9.39 17.4955 10.1845 18.0485 11.0661 18.6038C11.3646 18.7919 11.6611 18.9729 12 19.1752C12.3389 18.9729 12.6354 18.7919 12.9339 18.6038Z",fill:"white"},Z={class:"movie__info_image"},V=["src","alt"],j={key:1,class:"movie__description"},z={class:"movie__description-elements"},D={class:"movie__description-item"},I={class:"movie__description-item"},A={class:"movie__description-item"},P={class:"movie__description-item"},Y={class:"movie__description-item"},$={key:2},q=C({__name:"FilmCard",setup(G){const h=L(),l=y(),e=u(null),d=u(!0),v=c(()=>e.value?l.isInFavorites(e.value.id):!1),m=()=>{if(e.value){if(!l.isAuthorized){l.showLoginForm();return}v.value?l.removeFromFavorites(e.value.id):l.addToFavorites(e.value)}},_=()=>{e.value?.trailerUrl?window.open(e.value.trailerUrl,"_blank"):alert("Трейлер недоступен")},g=async o=>{try{return await(await fetch(`https://cinemaguide.skillbox.cc/movie/${o}`)).json()}catch{throw new Error("Error fetching movie details")}},f=async o=>{try{d.value=!0;const s=await g(o);e.value=s}catch(s){console.error("Error loading movie:",s)}finally{d.value=!1}};x(()=>{f(Number(h.params.id))});const k=c(()=>{if(!e.value)return"rating-very-low";const o=e.value.tmdbRating;return o>=8?"rating-high":o>=6?"rating-medium":o>=4?"rating-low":"rating-very-low"});return(o,s)=>(r(),a(b,null,[e.value?(r(),a("div",F,[t("div",M,[t("div",H,[t("span",{class:w(["raiting",k.value])},[s[0]||(s[0]=t("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M8.00105 12.1734L3.29875 14.8055L4.34897 9.51997L0.392578 5.86124L5.74394 5.22675L8.00105 0.333374L10.2581 5.22675L15.6095 5.86124L11.6531 9.51997L12.7033 14.8055L8.00105 12.1734Z",fill:"white"})],-1)),n(" "+i(e.value.tmdbRating),1)],2),t("span",null,i(e.value.releaseYear),1),t("span",null,i(e.value.genres[0]),1),t("span",null,i(e.value.runtime)+" мин",1)]),t("div",E,i(e.value.originalTitle),1),t("div",R,i(e.value.plot),1),t("div",N,[t("button",{class:"trailer",onClick:_},"Трейлер"),t("button",{class:w(["like",{liked:v.value}]),onClick:m},[(r(),a("svg",S,[v.value?(r(),a("path",T)):(r(),a("path",U))]))],2)])]),t("div",Z,[t("img",{class:"movie__image",src:e.value.posterUrl,alt:e.value.title},null,8,V)])])):p("",!0),e.value?(r(),a("div",j,[s[12]||(s[12]=t("h2",{class:"film-about"},"О фильме",-1)),t("div",z,[s[11]||(s[11]=t("div",{class:"movie__description-item"},[t("span",{class:"description"},"Язык оригинала"),t("svg",{class:"line",width:"239",height:"2",viewBox:"0 0 239 2",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M239 1H0",stroke:"white","stroke-opacity":"0.5","stroke-dasharray":"2 2"})]),n(" English ")],-1)),t("div",D,[s[1]||(s[1]=t("span",{class:"description"},"Бюджет",-1)),s[2]||(s[2]=t("svg",{class:"line",width:"239",height:"2",viewBox:"0 0 239 2",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M239 1H0",stroke:"white","stroke-opacity":"0.5","stroke-dasharray":"2 2"})],-1)),n(" "+i(e.value.budget),1)]),t("div",I,[s[3]||(s[3]=t("span",{class:"description"},"Выручка",-1)),s[4]||(s[4]=t("svg",{class:"line",width:"239",height:"2",viewBox:"0 0 239 2",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M239 1H0",stroke:"white","stroke-opacity":"0.5","stroke-dasharray":"2 2"})],-1)),n(" "+i(e.value.revenue),1)]),t("div",A,[s[5]||(s[5]=t("span",{class:"description"},"Режиссер",-1)),s[6]||(s[6]=t("svg",{class:"line",width:"239",height:"2",viewBox:"0 0 239 2",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M239 1H0",stroke:"white","stroke-opacity":"0.5","stroke-dasharray":"2 2"})],-1)),n(" "+i(e.value.director),1)]),t("div",P,[s[7]||(s[7]=t("span",{class:"description"},"Продакшен",-1)),s[8]||(s[8]=t("svg",{class:"line",width:"239",height:"2",viewBox:"0 0 239 2",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M239 1H0",stroke:"white","stroke-opacity":"0.5","stroke-dasharray":"2 2"})],-1)),n(" "+i(e.value.production),1)]),t("div",Y,[s[9]||(s[9]=t("span",{class:"description"},"Награды",-1)),s[10]||(s[10]=t("svg",{class:"line",width:"239",height:"2",viewBox:"0 0 239 2",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M239 1H0",stroke:"white","stroke-opacity":"0.5","stroke-dasharray":"2 2"})],-1)),n(" "+i(e.value.awardsSummary),1)])])])):d.value?(r(),a("div",$," Загрузка... ")):p("",!0)],64))}}),O=B(q,[["__scopeId","data-v-92ed16d0"]]);export{O as default};
