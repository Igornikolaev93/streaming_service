import{M as V}from"./MovieCard-D6fQUQzh.js";import{d as C,i as H,u as M,r as d,c as g,a as i,o as s,b as e,F as L,e as F,f as k,t as p,g as b,h as R,_ as $,n as y,j as x,k as B}from"./index-CL-Xs5cY.js";/* empty css                                                   *//* empty css                                                                   */const U={key:0},Z={class:"catalog"},j=["onClick"],I={class:"movie-number-badge"},N={key:1},T=C({__name:"Movieview",props:{searchQuery:{}},setup(h){const r=h;H("appModel").value;const _=M(),o=d(!1),n=d([]);R();const v=b();d("");async function m(){o.value=!0;const c=await(await fetch("https://cinemaguide.skillbox.cc/movie/top10")).json();n.value=Object.assign({},c),o.value=!1}m(),g(()=>{let l=n.value;return _.message?l.filter(c=>c.title.indexOf(_.message)!==-1):l}),g(()=>{r.searchQuery.toLowerCase().trim()});const w=l=>{v.push(`/movie/${l.id}`)};return d(null),d([]),(l,c)=>o.value?(s(),i("div",N)):(s(),i("div",U,[c[0]||(c[0]=e("div",{class:"cart"},null,-1)),e("div",Z,[(s(!0),i(L,null,F(n.value,(f,t)=>(s(),i("div",{key:f.id,class:"movie-card-wrapper",onClick:u=>w(f)},[e("div",I,p(Number(t)+1),1),k(V,{product:f},null,8,["product"])],8,j))),128))])]))}}),P=$(T,[["__scopeId","data-v-f66e805f"]]),S={class:"movie__info"},z={class:"movie_info_description"},D={class:"movie__info__head"},O={class:"movie__info_name"},Q={class:"movie__info_plot"},A={class:"movie__info_button"},E={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Y={key:0,d:"M16.5 3C19.5376 3 22 5.5 22 9C22 16 14.5 20 12 21.5C9.5 20 2 16 2 9C2 5.5 4.5 3 7.5 3C9.35997 3 11 4 12 5C13 4 14.64 3 16.5 3Z",fill:"#ffff"},q={key:1,d:"M16.5 3C19.5376 3 22 5.5 22 9C22 16 14.5 20 12 21.5C9.5 20 2 16 2 9C2 5.5 4.5 3 7.5 3C9.35997 3 11 4 12 5C13 4 14.64 3 16.5 3ZM12.9339 18.6038C13.8155 18.0485 14.61 17.4955 15.3549 16.9029C18.3337 14.533 20 11.9435 20 9C20 6.64076 18.463 5 16.5 5C15.4241 5 14.2593 5.56911 13.4142 6.41421L12 7.82843L10.5858 6.41421C9.74068 5.56911 8.5759 5 7.5 5C5.55906 5 4 6.6565 4 9C4 11.9435 5.66627 14.533 8.64514 16.9029C9.39 17.4955 10.1845 18.0485 11.0661 18.6038C11.3646 18.7919 11.6611 18.9729 12 19.1752C12.3389 18.9729 12.6354 18.7919 12.9339 18.6038Z",fill:"white"},G={class:"movie__info_image"},J=["src","alt"],K=C({__name:"RandomMovie",props:{product:{}},emits:["updateMovie"],setup(h,{emit:r}){const a=M(),_=b(),o=h,n=g(()=>a.isInFavorites(o.product.id)),v=()=>{if(!a.isAuthorized){a.showLoginForm();return}n.value?a.removeFromFavorites(o.product.id):a.addToFavorites(o.product)},m=()=>{o.product.trailerUrl?window.open(o.product.trailerUrl,"_blank"):alert("Трейлер недоступен")},w=t=>{_.push(`/movie/${t.id}`)},l=r,c=()=>{l("updateMovie")},f=g(()=>{const t=o.product.tmdbRating;return t>=8?"rating-high":t>=6?"rating-medium":t>=4?"rating-low":"rating-very-low"});return(t,u)=>(s(),i("div",S,[e("div",z,[e("div",D,[e("span",{class:y(["raiting",f.value])},[u[1]||(u[1]=e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M8.00105 12.1734L3.29875 14.8055L4.34897 9.51997L0.392578 5.86124L5.74394 5.22675L8.00105 0.333374L10.2581 5.22675L15.6095 5.86124L11.6531 9.51997L12.7033 14.8055L8.00105 12.1734Z",fill:"white"})],-1)),x(" "+p(t.product.tmdbRating),1)],2),e("span",null,p(t.product.releaseYear),1),e("span",null,p(t.product.genres[0]),1),e("span",null,p(t.product.runtime)+" мин",1)]),e("div",O,p(t.product.originalTitle),1),e("div",Q,p(t.product.plot),1),e("div",A,[e("button",{class:"trailer one",onClick:m},"Трейлер"),e("button",{class:"film",onClick:u[0]||(u[0]=ie=>w(t.product))},"О фильме"),e("button",{class:y(["like",{liked:n.value}]),onClick:v},[(s(),i("svg",E,[n.value?(s(),i("path",Y)):(s(),i("path",q))]))],2),e("button",{class:"update",onClick:c},[...u[2]||(u[2]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 4C14.7486 4 17.1749 5.38626 18.6156 7.5H16V9.5H22V3.5H20V5.99936C18.1762 3.57166 15.2724 2 12 2C6.47715 2 2 6.47715 2 12H4C4 7.58172 7.58172 4 12 4ZM20 12C20 16.4183 16.4183 20 12 20C9.25144 20 6.82508 18.6137 5.38443 16.5H8V14.5H2V20.5H4V18.0006C5.82381 20.4283 8.72764 22 12 22C17.5228 22 22 17.5228 22 12H20Z",fill:"white"})],-1)])])])]),e("div",G,[e("img",{class:"movie__image",src:t.product.posterUrl,alt:t.product.title},null,8,J)])]))}}),W=$(K,[["__scopeId","data-v-f4ba0d94"]]),X={key:0},ee={class:"catalogs"},te={key:1},oe=C({__name:"Random",setup(h){const r=d(!1),a=d([]),_=()=>{o()};d("");async function o(){r.value=!0;const v=await(await fetch("https://cinemaguide.skillbox.cc/movie/random")).json();a.value=[v],r.value=!1}return o(),(n,v)=>r.value?(s(),i("div",te," Loading books... ")):(s(),i("div",X,[e("div",ee,[(s(!0),i(L,null,F(a.value,m=>(s(),B(W,{key:m.id,product:m,onUpdateMovie:_},null,8,["product"]))),128))])]))}}),se=$(oe,[["__scopeId","data-v-c26a789e"]]),ce=C({__name:"FirstPage",setup(h){return M(),b(),(r,a)=>(s(),i(L,null,[k(se),k(P)],64))}});export{ce as default};
